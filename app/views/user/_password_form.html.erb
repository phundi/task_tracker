
<script src="/js/jquery.form-validator.min.js"></script>

  <form enctype="multipart/form-data" id="form-create-user" accept-charset="UTF-8"
        action="<%= @action%>" method="POST"><input type="hidden">

    <%= hidden_field_tag :authenticity_token, form_authenticity_token -%>

    <%= hidden_field_tag :user_id, @user.id -%>

    <div class="form-group">
      <label for="username">Username</label>
      <input type="text" id="username" name="username" class="form-control" value="<%= @user.username%>"
             <%= !@user.username.blank? ? 'disabled' : '' %> data-validation="required length"  data-validation-length="min6">
    </div>
    <div class="form-group">
      <label for="password">Old Password</label>
      <input type="password" id="old_pass" value="" class="form-control"
             name="old_pass" data-validation="length required" data-validation-length="min6">
    </div>

    <p>
        <div class="form-group">
          <label for="password">New Password</label>
          <input type="password" id="password" value="" class="form-control"
           name="pass_confirmation" data-validation="length required" data-validation-length="min6">
        </div>
        <div class="form-group">
          <label for="password_confirmation">Confirm New Password</label>
          <input type="password" id="password_confirmation" value="" class="form-control" data-validation-length="min6"
           name="pass" data-validation="required length">
        </div>
    </p>

    <div class="form-group">
      <label for="image">Photo</label>
      <input type="file" id="image" name="image">
    </div>
    <div class="form-group actions-row">
      <button type="button submit" class="btn btn-primary"><span class="glyphicon glyphicon-save"></span> Save</button>
    </div>

  </form>

<script>
    $.validate({
        modules : 'security',
        onError : function(){

        }
    });

</script>
